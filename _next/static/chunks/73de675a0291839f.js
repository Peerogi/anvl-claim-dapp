(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let a="0xEFd19D4Df955E8958d132319F31D2aB97fE29Ac",l=["function vestingStartTimestamp() view returns (uint32)","function vestingPeriodSeconds() view returns (uint32)","function provenBalances(address) view returns (uint256 initial, uint256 claimed)","function getProvenUnclaimedBalance(address) view returns (uint256)","function claim(uint256 _amount)"];function n(e,t=6){let s="number"==typeof e?e:Number(e);return Number.isFinite(s)?s.toLocaleString(void 0,{maximumFractionDigits:t}):String(e)}function i(){let[i,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[o,m]=(0,s.useState)(null),[u,x]=(0,s.useState)(null),[h,g]=(0,s.useState)(null),[v,N]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),[j,p]=(0,s.useState)(null),[y,w]=(0,s.useState)(null),[S,k]=(0,s.useState)(""),[B,C]=(0,s.useState)(""),[I,A]=(0,s.useState)(null),[E,P]=(0,s.useState)(null),[T,$]=(0,s.useState)(!1),D=(0,s.useRef)(null),M=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async()=>{try{let t=await e.A(28760);r(t),d(!!window.ethereum)}catch(e){console.error(e)}})()},[]);let U=(0,s.useMemo)(()=>!!(i&&c),[i,c]),F=(0,s.useCallback)(async()=>{try{if(P(null),A(null),!U)throw Error("Wallet provider or ethers not available");let{BrowserProvider:e,Contract:t}=i,s=new e(window.ethereum);await s.send("eth_requestAccounts",[]);let n=await s.getSigner();M.current=n;let r=await n.getAddress(),c=await s.getNetwork();x(Number(c.chainId)),m(r),D.current=new t(a,l,n),await R()}catch(e){P(e?.message||String(e))}},[i,U]),R=(0,s.useCallback)(async()=>{try{P(null),A(null);let e=D.current;if(!e)throw Error("Not connected");let[t,s,a,l]=await Promise.all([e.vestingStartTimestamp(),e.vestingPeriodSeconds(),e.provenBalances(o),e.getProvenUnclaimedBalance(o)]);p(Number(t)),w(Number(s)),g(a.initial),N(a.claimed),f(BigInt(l));let n=Math.floor(Date.now()/1e3),i=Math.max(0,n-Number(t)),r=Math.min(1,i/Number(s||1)),c=BigInt(a.initial)*BigInt(Math.floor(1e9*r))/BigInt(1e9)-BigInt(a.claimed);if(c>0n){let e=c>_("10000",18)?_("10000",18):c,t=O(e,18);k(t),B||C(t)}else k("0")}catch(e){P(e?.message||String(e))}},[o,B]),V=(0,s.useCallback)(async()=>{try{if(P(null),A(null),!D.current)throw Error("Not connected");let e=(B||"").trim();if(!e||0>=Number(e))throw Error("Enter a positive token amount");let t=_(e,18);$(!0);let s=await D.current.claim(t);A(s.hash),await s.wait(),await R()}catch(e){P(e?.reason||e?.message||String(e))}finally{$(!1)}},[B,R]);function O(e,t){let s=e<0n,a=s?-e:e,l=10n**BigInt(t),n=(a%l).toString().padStart(t,"0").replace(/0+$/,"");return`${s?"-":""}${(a/l).toString()}${n?"."+n:""}`}function _(e,t){let[s="0",a=""]=e.split("."),l=(a+"".padEnd(t,"0")).slice(0,t),n=BigInt(s),i=BigInt(l||"0");return n*10n**BigInt(t)+i}let K=(0,s.useMemo)(()=>h&&y?Number(h)/1e18/(Number(y)/86400):null,[h,y]),L=!!o;return(0,t.jsxs)("main",{className:"mx-auto max-w-4xl px-4 py-8",children:[(0,t.jsxs)("header",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"ANVL Vesting Claim"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Securely read your vesting status and claim tokens directly from the verified contract."})]}),(0,t.jsx)("button",{onClick:F,className:"rounded-xl border px-4 py-2 shadow-sm hover:shadow transition",children:L?"Reconnect":"Connect Wallet"})]}),(0,t.jsx)("section",{className:"border rounded-2xl p-4 md:p-6 shadow-sm mb-6",children:(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Address"}),(0,t.jsx)("div",{className:"font-mono break-all",children:o??"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Network"}),(0,t.jsx)("div",{children:u?`chainId ${u}`:"—"})]})]})}),(0,t.jsxs)("section",{className:"border rounded-2xl p-4 md:p-6 shadow-sm mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Your Vesting Status"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Initial Allocation"}),(0,t.jsx)("div",{className:"font-semibold",children:null!==h?n(Number(O(h,18))):"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Already Claimed"}),(0,t.jsx)("div",{className:"font-semibold",children:null!==v?n(Number(O(v,18))):"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Vesting Start (UTC)"}),(0,t.jsx)("div",{className:"font-semibold",children:j?function(e){if(!e)return"—";let t=new Date(1e3*("string"==typeof e?Number(e):e));return Number.isFinite(t.valueOf())?t.toISOString().replace(".000Z","Z"):"—"}(j):"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Vesting Period"}),(0,t.jsx)("div",{className:"font-semibold",children:y?`${n(y)} sec (~${n(y/86400)} days)`:"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Unclaimed (contract)"}),(0,t.jsx)("div",{className:"font-semibold",children:null!==b?n(Number(O(b,18))):"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Daily Unlock (est.)"}),(0,t.jsx)("div",{className:"font-semibold",children:K?`${n(K)} tokens/day`:"—"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:R,className:"rounded-lg border px-3 py-1.5 shadow-sm hover:shadow",children:"Refresh"}),S&&(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Suggested test claim: ",(0,t.jsx)("span",{className:"font-semibold",children:n(S)})," tokens"]})]})]}),(0,t.jsxs)("section",{className:"border rounded-2xl p-4 md:p-6 shadow-sm mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Claim"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-[1fr_auto] gap-3 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-500 mb-1",htmlFor:"amt",children:"Amount (tokens)"}),(0,t.jsx)("input",{id:"amt",type:"number",inputMode:"decimal",step:"0.000000000000000001",placeholder:"e.g. 10000",value:B,onChange:e=>C(e.target.value),className:"w-full rounded-xl border px-3 py-2"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: test with a small amount first; gas costs are similar for small vs large claims."})]}),(0,t.jsx)("button",{onClick:V,disabled:!L||T,className:"rounded-xl border px-4 py-2 shadow-sm hover:shadow disabled:opacity-50",children:T?"Claiming…":"Claim"})]}),(0,t.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Tx hash:"})," ",(0,t.jsx)("span",{className:"font-mono break-all",children:I??"—"})]}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Errors:"})," ",(0,t.jsx)("span",{className:"font-mono break-all",children:E??"—"})]})]})]}),(0,t.jsx)("footer",{className:"text-xs text-gray-500 mt-8",children:(0,t.jsxs)("p",{children:["Powered by a verified vesting contract at ",(0,t.jsx)("span",{className:"font-mono",children:a}),". This page does not store keys or funds; transactions are signed in your wallet."]})})]})}e.s(["default",()=>i])},28760,e=>{e.v(t=>Promise.all(["static/chunks/a10350ff75b1848b.js"].map(t=>e.l(t))).then(()=>t(51694)))}]);